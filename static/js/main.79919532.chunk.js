(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{219:function(e,t,a){e.exports=a(381)},228:function(e,t,a){},381:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),i=a.n(o),s=a(55),c=a(18),l=function(e,t){var a;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout(function(){return e.apply(n,r)},t)}},u=a(28),d=a(8),p=a(57),b="SAVE_DOABLE",h="COMPLETE_DOABLE",m="CREATE_OPTION",f={doables:[{id:0,name:"get almond milk",notes:"http://amzn.eu/d/0KIJc45",isResult:!1,area:"",context:"",deadline:"",schedule:"",reminder:"",createdAt:Date.now()},{id:1,name:"rule the world",notes:"",isResult:!1,area:"personal",context:"",deadline:"",schedule:"",reminder:"",createdAt:Date.now()},{id:2,name:"call mom",notes:"+41 44 761 69 49",isResult:!1,area:"",context:"",deadline:"",schedule:"",reminder:"",createdAt:Date.now()}],areas:{personal:{name:"Personal"}},contexts:{codeworks:{name:"Office"},home:{name:"Home"},commute:{name:"Commute"}}},g=(a(228),a(23)),v=a(24),O=a(26),j=a(25),w=a(27),S=a(34),y=a.n(S),E=a(29),C=a.n(E),x=a(52),k=a.n(x),I=a(53),A=a.n(I),T=a(94),D=a.n(T),_=a(19),R=a.n(_),F=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).defaultFormState={name:"",notes:"",isResult:"",area:"",context:"",deadline:"",schedule:"",reminder:""},a.state={saveable:!1,data:a.defaultFormState},a.componentWillMount=function(){a.props.isQuickEntry||a.setState(function(e){return Object(d.a)({},e,{data:Object(d.a)({},a.state.data,a.props.data)})})},a.handleSubmit=function(e){e.preventDefault(),a.undebouncedSave(a.state.data),a.setState(function(e){return"quickEntry"in a.props?Object(d.a)({},e,{data:a.defaultFormState,saveable:!1}):Object(d.a)({},e,{saveable:!1})})},a.showToast=function(e,t){Object(_.toast)({message:e,duration:1e3})},a.undebouncedSave=function(e,t){a.props.saveDoable(e),a.showToast("Saved!")},a.save=l(a.undebouncedSave,250),a.handleInputChange=function(e){var t=e.target,n=Object(d.a)({},a.state.data,Object(u.a)({},t.name,t.value)),r=""!==n.name;!a.props.quickEntry&&r&&a.save(n,t),a.setState(function(e){return Object(d.a)({},e,{saveable:r,data:n})})},a.handleSelectChange=function(e,t){var n=e.value,r=Object(d.a)({},a.state.data,Object(u.a)({},t,n));a.props.quickEntry||(a.save(r),a.showToast("Saved!")),a.setState(function(e){return Object(d.a)({},e,{data:r})})},a.handleContextChange=function(e){a.handleSelectChange(e,"context")},a.handleAreaChange=function(e){a.handleSelectChange(e,"area")},a.handleCreateOption=function(e,t){var n=e.replace(/\W/g,"").toLowerCase();a.props.createOption(Object(u.a)({},n,{name:e}),t),a.handleSelectChange({value:n},t)},a.handleCreateOptionArea=function(e){a.handleCreateOption(e,"area")},a.handleCreateOptionContext=function(e){a.handleCreateOption(e,"context")},a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state.data,t=e.name,a=e.notes,n=e.area,o=e.context;return r.a.createElement("form",Object.assign({noValidate:!0},N.form,{onSubmit:this.handleSubmit}),r.a.createElement(C.a,Object.assign({name:"name",type:"text",placeholder:"what needs doing?",fullWidth:!0,required:!0,autoFocus:this.props.autofocus,value:t,onChange:this.handleInputChange,disableUnderline:!0},N.name)),r.a.createElement(k.a,Object.assign({name:"notes",label:"Notes",fullWidth:!0,value:a,onChange:this.handleInputChange},N.input)),!this.props.quickEntry&&r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{isClearable:!0,isSearchable:!0,styles:N.reactSelect,options:Object.entries(this.props.contexts).map(function(e){return{value:e[0],label:e[1].name}}),value:o?{label:this.props.contexts[o].name,value:o}:"",onChange:this.handleContextChange,onCreateOption:this.handleCreateOptionContext,placeholder:"Select Context..."}),r.a.createElement(D.a,{isSearchable:!0,styles:N.reactSelect,options:Object.entries(this.props.areas).map(function(e){return{value:e[0],label:e[1].name}}),value:n?{label:this.props.areas[n].name,value:n}:"",onChange:this.handleAreaChange,onCreateOption:this.handleCreateOptionArea,placeholder:"Select Area..."})),this.props.quickEntry&&r.a.createElement(A.a,{type:"submit",variant:"contained",disabled:!this.state.saveable},"Save"))}}]),t}(n.Component),N={form:{style:{maxWidth:"800px",height:"100vh",margin:"0 auto",padding:"16px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxSizing:"border-box"}},name:{style:{margin:"8px 0",fontSize:"1.618rem"}},input:{style:{margin:"8px 0",overflow:"hidden",width:"100%",position:"relative"}},reactSelect:{container:function(){return{position:"relative",width:"100%",margin:"8px 0"}}}},W=Object(c.b)(function(e,t){return{areas:e.areas,contexts:e.contexts,data:e.doables.find(function(e){return e.id===t.doableId})}},function(e){return{saveDoable:function(t){return e(function(e){return{type:b,doable:e}}(t))},createOption:function(t,a){return e(function(e,t){return{type:m,data:{option:e,type:t}}}(t,a))}}})(F),q=a(54),L=a.n(q),J=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(o)))).state={pageIndex:0},a.renderReviewables=function(e){return e.map(function(e){return r.a.createElement(W,{key:e.id,doableId:e.id})})},a.handleChangeIndex=function(e){a.setState({pageIndex:e})},a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",z.container,r.a.createElement(y.a,{enableMouseEvents:!0,onChangeIndex:this.handleChangeIndex},this.renderReviewables(this.props.reviewables)),this.props.reviewables.length>1&&r.a.createElement(L.a,Object.assign({steps:this.props.reviewables.length,position:"static",activeStep:this.state.pageIndex},z.stepper)))}}]),t}(n.Component),z={stepper:{style:{width:"100%",position:"absolute",bottom:0,justifyContent:"center"}},container:{style:{position:"relative"}}},B=Object(c.b)(function(e){return{reviewables:e.doables.filter(function(e){return""===e.area})}},function(){return{}})(J),M=a(138),U=(a(379),function(e){switch(e){case"complete":return{style:{backgroundColor:"lightgreen",color:"#888"}};default:return{style:{backgroundColor:"white"}}}}),V=function(e){var t=e.item,a=t.id,n=t.name,o=t.status;return r.a.createElement("li",Object.assign({"data-id":a},U(o)),n)};var X={container:{style:{maxWidth:"800px",height:"100vh",boxSizing:"border-box",backgroundColor:"white",margin:"0"}}},P=Object(c.b)(function(e){return e},function(e){return{completeDoable:function(t){return e(function(e){return{type:h,id:e}}(t))}}},function(e,t,a){return Object(d.a)({},a,{area:e.areas[a.area].name,doables:e.doables.filter(function(e){return e.area===a.area})},t)})(function(e){return r.a.createElement(R.a.Form,Object.assign({theme:"material",lang:"de"},X.forms),r.a.createElement(R.a.FormGroup,X.container,r.a.createElement(R.a.FormGroupTitle,null,e.area),r.a.createElement(R.a.Listview,{theme:"material",lang:"de",itemType:V,data:e.doables,sortable:{handle:"left"},stages:{left:[{percent:10,icon:"pencil",color:"orange",action:function(){R.a.toast({message:"Edit"})}},{percent:40,icon:"checkmark",color:"green",action:function(t){var a=t.target;e.completeDoable(a.getAttribute("data-id")),R.a.toast({message:"Done"})}}],right:[{percent:-40,icon:"remove",color:"red",action:function(e,t){var a=e.target;t.remove(a),R.a.toast({message:"Deleted"})},undo:!0}]},undoText:"Undo",onSortStart:e.disableSwiping,onSortEnd:e.enableSwiping,onSlideStart:e.disableSwiping,onSlideEnd:e.enableSwiping})))}),G=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(o)))).state={pageIndex:0},a.renderAreas=function(e){return e.map(function(e){return r.a.createElement(P,Object.assign({key:e,area:e},a.props.swipeToggler))})},a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",H.container,r.a.createElement(y.a,{enableMouseEvents:!0,disabled:this.props.disabled,onChangeIndex:this.handleChangeIndex},this.renderAreas(this.props.areas)),this.props.areas.length>1&&r.a.createElement(M.a,Object.assign({steps:this.props.areas.length,position:"static",activeStep:this.state.pageIndex},H.stepper)))}}]),t}(n.Component),H={stepper:{style:{width:"100%",position:"absolute",bottom:0,justifyContent:"center"}},container:{style:{position:"relative"}}},K=Object(c.b)(function(e,t){return Object(d.a)({areas:Object(p.a)(new Set(e.doables.map(function(e){return e.area}).filter(function(e){return""!==e})))},t)},function(e){return{}})(G),Q=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).state={swipeable:!0},a.swipeToggler={enableSwiping:function(){return a.setState(Object(d.a)({},a.state,{swipeable:!0}))},disableSwiping:function(){return a.setState(Object(d.a)({},a.state,{swipeable:!1}))}},a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,{axis:"y",containerStyle:{height:"100vh"},disabled:!this.state.swipeable},r.a.createElement(W,{quickEntry:!0,autofocus:!0}),r.a.createElement(B,null),r.a.createElement(K,{disabled:!this.state.swipeable,swipeToggler:this.swipeToggler}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),Y=Object(s.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var a;return a="id"in t.doable?e.doables.map(function(e){return e.id!==t.doable.id?e:t.doable}):Object(p.a)(e.doables).concat([Object(d.a)({id:e.doables.length},t.doable,{createdAt:Date.now()})]),Object(d.a)({},e,{doables:a});case h:return Object(d.a)({},e,{doables:e.doables.map(function(e){return e.id!==+t.id?e:Object(d.a)({},e,{status:"complete"})})});case m:var n=t.data,r=n.option,o=n.type;return Object(d.a)({},e,Object(u.a)({},"".concat(o,"s"),Object(d.a)({},e["".concat(o,"s")],r)));default:return e}},$,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Y.subscribe(l(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}(Y.getState())}),1e3),i.a.render(r.a.createElement(c.a,{store:Y},r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[219,2,1]]]);
//# sourceMappingURL=main.79919532.chunk.js.map